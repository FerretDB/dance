---
runner: gotest
args:
  - -timeout=5m
  - ./mongo
  - ./mongo/gridfs
  - ./x/mongo/driver/integration
  - ./x/mongo/driver/topology
  - ./internal/integration
  - ./internal/integration/unified

results:
  includes:
    fail:
      - go.mongodb.org/mongo-driver/internal/docexamples/TestDocumentationExamples

      # (NotImplemented) `aggregate` stage "$project" is not implemented yet
      - go.mongodb.org/mongo-driver/internal/docexamples/TestDocumentationExamples/AggregationExamples
      - go.mongodb.org/mongo-driver/internal/docexamples/TestAggregationExamples

      # Should be true
      - go.mongodb.org/mongo-driver/internal/docexamples/TestDocumentationExamples/ProjectionExamples

      # query array inconsistencies
      - go.mongodb.org/mongo-driver/internal/docexamples/TestDocumentationExamples/QueryArrayEmbeddedDocumentsExamples

      - go.mongodb.org/mongo-driver/internal/integration/TestClient
      - go.mongodb.org/mongo-driver/mongo/TestClient

      # expected 2 started events, got 0 - panic: runtime error: index out of range [0] with length 0 [recovered] - panic: runtime error: index out of range [0] with length 0
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/endSessions
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/endSessions/number_of_sessions_divides_evenly
      # panic: runtime error: invalid memory address or nil pointer dereference
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/end_sessions

      # error terminating open transactions: (CommandNotFound) no such command: 'killAllSessions'
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec

      # panic: runtime error: invalid memory address or nil pointer dereference
      - go.mongodb.org/mongo-driver/internal/integration/TestCausalConsistency_NotSupported
      - go.mongodb.org/mongo-driver/internal/integration/TestCausalConsistency_NotSupported/afterClusterTime_not_included

      - go.mongodb.org/mongo-driver/internal/integration/TestCausalConsistency_Supported
    skip:
      - go.mongodb.org/mongo-driver/internal/integration/TestChangeStream_ReplicaSet
      - go.mongodb.org/mongo-driver/x/mongo/driver/integration/TestCompression
      - go.mongodb.org/mongo-driver/x/mongo/driver/integration/TestInsert
      - go.mongodb.org/mongo-driver/x/mongo/driver/integration/TestSCRAM
      - go.mongodb.org/mongo-driver/x/mongo/driver/topology/TestCMAPSpec/pool-checkin-destroy-closed.json
      - go.mongodb.org/mongo-driver/x/mongo/driver/topology/TestCMAPSpec/pool-checkout-minPoolSize-connection-maxConnecting.json
      - go.mongodb.org/mongo-driver/x/mongo/driver/topology/TestCMAPSpec/pool-checkout-returned-connection-maxConnecting.json
      - go.mongodb.org/mongo-driver/x/mongo/driver/topology/TestCMAPSpec/pool-close-destroy-conns.json
      - go.mongodb.org/mongo-driver/x/mongo/driver/topology/TestCMAPSpec/pool-create-min-size-error.json
    pass:
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/
      - go.mongodb.org/mongo-driver/internal/docexamples/TestDocumentationExamples/DeleteExamples
      - go.mongodb.org/mongo-driver/internal/docexamples/TestDocumentationExamples/InsertExamples
      - go.mongodb.org/mongo-driver/internal/docexamples/TestDocumentationExamples/UpdateExamples
      - go.mongodb.org/mongo-driver/internal/docexamples/TestDocumentationExamples/QueryArraysExamples
      - go.mongodb.org/mongo-driver/internal/docexamples/TestDocumentationExamples/QueryEmbeddedDocumentsExamples
      - go.mongodb.org/mongo-driver/internal/docexamples/TestDocumentationExamples/QueryNullMissingFieldsExamples
      - go.mongodb.org/mongo-driver/internal/docexamples/TestDocumentationExamples/QueryToplevelFieldsExamples
      - go.mongodb.org/mongo-driver/internal/docexamples/TestDocumentationExamples/RunCommandExamples
      - go.mongodb.org/mongo-driver/internal/docexamples/TestDocumentationExamples/StableAPExamples
      - go.mongodb.org/mongo-driver/internal/docexamples/TestDocumentationExamples/TestDocumentationExamples/DeleteExamples
      - go.mongodb.org/mongo-driver/internal/docexamples/TestDocumentationExamples/TestDocumentationExamples/QueryNullMissingFieldsExamples

      - go.mongodb.org/mongo-driver/internal/integration/TestCollection/bulk_write/insert_and_delete_with_batches
      - go.mongodb.org/mongo-driver/internal/integration/TestCollection/bulk_write/unacknowledged_write
      - go.mongodb.org/mongo-driver/internal/integration/TestCollection/bulk_write/internal
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/retry_writes_error_20_wrapped
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/retry_writes_error_20_wrapped/command_error_code_19_right_msg
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/retry_writes_error_20_wrapped/command_error_code_20
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/retry_writes_error_20_wrapped/command_error_code_20_wrong_msg
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/retry_writes_error_20_wrapped/write_error_code_19_right_msg
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/retry_writes_error_20_wrapped/write_error_code_20
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/retry_writes_error_20_wrapped/write_error_code_20_wrong_msg
      - go.mongodb.org/mongo-driver/internal/integration/TestCausalConsistency_NotSupported/clusterTime_not_included
      - go.mongodb.org/mongo-driver/internal/integration/TestChangeStream_Standalone
      - go.mongodb.org/mongo-driver/internal/integration/TestChangeStream_Standalone/no_custom_standalone_error
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/disconnect
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/disconnect/nil_context
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/list_database_names/options
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/list_databases
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/list_databases/filter
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/list_databases/filter/empty
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/list_databases/filter/non-empty
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/list_databases/options
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/ping
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/ping/default_read_preference
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/ping/invalid_host
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/registry_passed_to_cursors
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/watch
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/watch/disconnected

      - go.mongodb.org/mongo-driver/mongo/gridfs/TestGridFS
      - go.mongodb.org/mongo-driver/mongo/gridfs/TestGridFS/ChunkSize
      - go.mongodb.org/mongo-driver/mongo/gridfs/TestGridFS/ChunkSize/Default_values

      - go.mongodb.org/mongo-driver/x/mongo/driver/integration/TestAggregate
      - go.mongodb.org/mongo-driver/x/mongo/driver/integration/TestAggregate/AllowDiskUse
      - go.mongodb.org/mongo-driver/x/mongo/driver/integration/TestAggregate/Multiple_Batches
      - go.mongodb.org/mongo-driver/x/mongo/driver/integration/TestAggregate/TestMaxTimeMSInGetMore

    ignore:
      # indicates flaky tests that should be ignored
      - go.mongodb.org/mongo-driver/internal/integration/TestUnifiedSpecs
      - go.mongodb.org/mongo-driver/internal/integration/TestUnifiedSpecs/retryable-reads
      - go.mongodb.org/mongo-driver/internal/integration/TestUnifiedSpecs/retryable-reads/aggregate-merge.json
      - go.mongodb.org/mongo-driver/internal/integration/TestUnifiedSpecs/retryable-reads/aggregate-merge.json/Aggregate_with_$merge_does_not_retry
      - go.mongodb.org/mongo-driver/internal/integration/TestCommandLoggingAndMonitoringProse

      - go.mongodb.org/mongo-driver/internal/integrationTestHandshakeProse
      - go.mongodb.org/mongo-driver/internal/integrationTestHandshakeProse/1._valid_AWS
      - go.mongodb.org/mongo-driver/internal/integrationTestHandshakeProse/4._valid_Vercel

      # test fails frequently, skipping; see GODRIVER-2852
      - go.mongodb.org/mongo-driver/x/mongo/driver/topology/TestCMAPProse/created_and_closed_events/checkOut/connection_error_publishes_events
      - go.mongodb.org/mongo-driver/x/mongo/driver/topology/TestCMAPSpec/pool-clear-min-size.json
      - go.mongodb.org/mongo-driver/x/mongo/driver/topology/TestCMAPSpec/pool-create-min-size.json

      # returns unknown result.
      - go.mongodb.org/mongo-driver/internal/integration/TestClientStress
      - go.mongodb.org/mongo-driver/x/mongo/driver/topology/TestCMAPProse
      - go.mongodb.org/mongo-driver/internal/docexamples/TestDocumentationExamples/IndexExamples
      - go.mongodb.org/mongo-driver/mongo/TestMergeChangeStreamOptions

  postgresql:
    stats:
      fail: 6
      skip: 8
      pass: 634
    ignore:
    include_ignore:
      - ignore
    fail:
    include_fail:
      - fail
    skip:
    include_skip:
      - skip
    pass:
    include_pass:
      - pass

  sqlite:
    stats:
      fail: 6
      skip: 8
      pass: 634
    ignore:
    include_ignore:
      - ignore
    fail:
    include_fail:
      - fail
    skip:
    include_skip:
      - skip
    pass:
    include_pass:
      - pass
  
  mongodb:
    stats:
      fail: 31
      skip: 274
      pass: 2584
    ignore:
      - go.mongodb.org/mongo-driver/internal/integration/TestUnifiedSpecs
      - go.mongodb.org/mongo-driver/internal/integration/TestClient_BSONOptions
      - go.mongodb.org/mongo-driver/internal/integration/TestCommandLoggingAndMonitoringProse
      - go.mongodb.org/mongo-driver/internal/integration/TestSearchIndexProse
      # subtests can exceed timeout and return unknown results
      - go.mongodb.org/mongo-driver/internal/integration/TestRetryableWritesSpec
    fail:
      - go.mongodb.org/mongo-driver/internal/integration/TestHandshakeProse
      - go.mongodb.org/mongo-driver/internal/integration/TestHandshakeProse/1._valid_AWS
      - go.mongodb.org/mongo-driver/internal/integration/TestHandshakeProse/3._valid_GCP
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/txt-record-with-overridden-ssl-option.json
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/server-discovery-and-monitoring/unified
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/server-discovery-and-monitoring/unified/logging-replicaset.json
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/server-discovery-and-monitoring/unified/logging-replicaset.json/Successful_heartbeat
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/server-discovery-and-monitoring/unified/logging-replicaset.json/Topology_lifecycle
      # exec: "mongocryptd": executable file not found in $PATH
      - go.mongodb.org/mongo-driver/internal/integration/TestSessionsMongocryptdProse
      - go.mongodb.org/mongo-driver/internal/integration/TestSessionsMongocryptdProse/18._implicit_session_is_ignored_if_connection_does_not_support_sessions
      - go.mongodb.org/mongo-driver/internal/integration/TestSessionsMongocryptdProse/19._explicit_session_raises_an_error_if_connection_does_not_support_sessions
    skip:
      - go.mongodb.org/mongo-driver/internal/integration/TestAtlasDataLake
      - go.mongodb.org/mongo-driver/internal/integration/TestCSOTProse/1._multi-batch_writes
      - go.mongodb.org/mongo-driver/internal/integration/TestCausalConsistency_NotSupported
      - go.mongodb.org/mongo-driver/internal/integration/TestChangeStream_ReplicaSet/include_startAtOperationTime
      - go.mongodb.org/mongo-driver/internal/integration/TestChangeStream_ReplicaSet/resume_token/no_getMore/without_PBRT_support
      - go.mongodb.org/mongo-driver/internal/integration/TestChangeStream_ReplicaSet/server_selection_before_resume
      - go.mongodb.org/mongo-driver/internal/integration/TestChangeStream_Standalone
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/OP_MSG_used_for_authentication_on_3.6+
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/OP_MSG_used_for_handshakes_when_API_version_declared
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/app_name_is_always_sent
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/tls_connection
      - go.mongodb.org/mongo-driver/internal/integration/TestClient/x509
      - go.mongodb.org/mongo-driver/internal/integration/TestCollection/bulk_write/delete_write_errors
      - go.mongodb.org/mongo-driver/internal/integration/TestCollection/bulk_write/unordered_writeError_index
      - go.mongodb.org/mongo-driver/internal/integration/TestCollection/delete_many/write_error
      - go.mongodb.org/mongo-driver/internal/integration/TestCollection/delete_one/write_error
      - go.mongodb.org/mongo-driver/internal/integration/TestConnectionsSurvivePrimaryStepDown/server_errors/notPrimary_reset_pool
      - go.mongodb.org/mongo-driver/internal/integration/TestDatabase/list_collections/verify_results/sharded_filter
      - go.mongodb.org/mongo-driver/internal/integration/TestDatabase/list_collections/verify_results/sharded_no_filter
      - go.mongodb.org/mongo-driver/internal/integration/TestDatabase/list_collections/verify_results/standalone_filter
      - go.mongodb.org/mongo-driver/internal/integration/TestDatabase/list_collections/verify_results/standalone_no_filter
      - go.mongodb.org/mongo-driver/internal/integration/TestDatabase/run_command/read_pref_passed_to_mongos
      - go.mongodb.org/mongo-driver/internal/integration/TestErrors/errors_are_wrapped/network_error_during_auth
      - go.mongodb.org/mongo-driver/internal/integration/TestGridFS/round_trip
      - go.mongodb.org/mongo-driver/internal/integration/TestHintErrors
      - go.mongodb.org/mongo-driver/internal/integration/TestIndexView/create_many/commit_quorum/error_on_server_versions_before_4.4
      - go.mongodb.org/mongo-driver/internal/integration/TestIndexView/create_one/commit_quorum/error_on_server_versions_before_4.4
      - go.mongodb.org/mongo-driver/internal/integration/TestLoadBalancedConnectionHandshake/LB_connection_handshake_uses_OP_MSG
      - go.mongodb.org/mongo-driver/internal/integration/TestLoadBalancerSupport
      - go.mongodb.org/mongo-driver/internal/integration/TestMongosPinning
      - go.mongodb.org/mongo-driver/internal/integration/TestRetryableReadsProse/retrying_in_sharded_cluster
      - go.mongodb.org/mongo-driver/internal/integration/TestRetryableWritesProse/retrying_in_sharded_cluster
      - go.mongodb.org/mongo-driver/internal/integration/TestRetryableWritesProse/transaction_number_not_sent_on_writes
      - go.mongodb.org/mongo-driver/internal/integration/TestRetryableWritesProse/wrap_mmapv1_error
      - go.mongodb.org/mongo-driver/mongo/TestClient/mongocryptd_or_crypt_shared
      - go.mongodb.org/mongo-driver/mongo/TestOCSP
      - go.mongodb.org/mongo-driver/x/mongo/driver/integration/TestCompression
      - go.mongodb.org/mongo-driver/x/mongo/driver/integration/TestInsert
      - go.mongodb.org/mongo-driver/x/mongo/driver/integration/TestSCRAM
      - go.mongodb.org/mongo-driver/x/mongo/driver/topology/TestCMAPSpec/pool-checkin-destroy-closed.json
      - go.mongodb.org/mongo-driver/x/mongo/driver/topology/TestCMAPSpec/pool-checkout-minPoolSize-connection-maxConnecting.json
      - go.mongodb.org/mongo-driver/x/mongo/driver/topology/TestCMAPSpec/pool-checkout-returned-connection-maxConnecting.json
      - go.mongodb.org/mongo-driver/x/mongo/driver/topology/TestCMAPSpec/pool-close-destroy-conns.json
      - go.mongodb.org/mongo-driver/x/mongo/driver/topology/TestCMAPSpec/pool-create-min-size-error.json
      - go.mongodb.org/mongo-driver/internal/integration/TestSDAMErrorHandling/after_handshake_completes/server_errors/command_error_-_InterruptedAtShutdown
      - go.mongodb.org/mongo-driver/internal/integration/TestSDAMErrorHandling/after_handshake_completes/server_errors/command_error_-_InterruptedDueToReplStateChange,_not_shutdown
      - go.mongodb.org/mongo-driver/internal/integration/TestSDAMErrorHandling/after_handshake_completes/server_errors/command_error_-_NotPrimary
      - go.mongodb.org/mongo-driver/internal/integration/TestSDAMErrorHandling/after_handshake_completes/server_errors/command_error_-_NotPrimaryNoSecondaryOk
      - go.mongodb.org/mongo-driver/internal/integration/TestSDAMErrorHandling/after_handshake_completes/server_errors/command_error_-_NotPrimaryOrSecondary
      - go.mongodb.org/mongo-driver/internal/integration/TestSDAMErrorHandling/after_handshake_completes/server_errors/command_error_-_PrimarySteppedDown
      - go.mongodb.org/mongo-driver/internal/integration/TestSDAMErrorHandling/after_handshake_completes/server_errors/command_error_-_ShutdownInProgress
      - go.mongodb.org/mongo-driver/internal/integration/TestSDAMErrorHandling/after_handshake_completes/server_errors/write_concern_error_-_InterruptedAtShutdown
      - go.mongodb.org/mongo-driver/internal/integration/TestSDAMErrorHandling/after_handshake_completes/server_errors/write_concern_error_-_InterruptedDueToReplStateChange,_not_shutdown
      - go.mongodb.org/mongo-driver/internal/integration/TestSDAMErrorHandling/after_handshake_completes/server_errors/write_concern_error_-_NotPrimary
      - go.mongodb.org/mongo-driver/internal/integration/TestSDAMErrorHandling/after_handshake_completes/server_errors/write_concern_error_-_NotPrimaryNoSecondaryOk
      - go.mongodb.org/mongo-driver/internal/integration/TestSDAMErrorHandling/after_handshake_completes/server_errors/write_concern_error_-_NotPrimaryOrSecondary
      - go.mongodb.org/mongo-driver/internal/integration/TestSDAMErrorHandling/after_handshake_completes/server_errors/write_concern_error_-_PrimarySteppedDown
      - go.mongodb.org/mongo-driver/internal/integration/TestSDAMErrorHandling/after_handshake_completes/server_errors/write_concern_error_-_ShutdownInProgress
      - go.mongodb.org/mongo-driver/internal/integration/TestSDAMErrorHandling/before_handshake_completes
      - go.mongodb.org/mongo-driver/internal/integration/TestSDAMProse/client_waits_between_failed_Hellos
      - go.mongodb.org/mongo-driver/internal/integration/TestServerSelectionProse/operationCount-based_selection_within_latency_window,_no_failpoint
      - go.mongodb.org/mongo-driver/internal/integration/TestServerSelectionProse/operationCount-based_selection_within_latency_window,_with_failpoint
      - go.mongodb.org/mongo-driver/internal/integration/TestSessionsProse/10_no_remaining_sessions_are_checked_out_after_each_functional_test
      - go.mongodb.org/mongo-driver/internal/integration/TestSessionsProse/14_implicit_session_allocation
      - go.mongodb.org/mongo-driver/internal/integration/TestSessionsProse/7_authenticating_as_multiple_users_suppresses_implicit_sessions
      # skipping due to environmental constraints: topology kind "replicaset" does not match any of the required kinds ["load-balanced"]
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/load_balanced
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/command-monitoring/logging/service-id.json/command_log_messages_include_serviceId_when_in_LB_mode


      # skipping test that expects ssl in a non-ssl environment
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/direct-connection-false.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/encoded-userinfo-and-db.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/loadBalanced-false-txt.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/longer-parent-in-return.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/one-result-default-port.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/one-txt-record-multiple-strings.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/one-txt-record.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/srv-service-name.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/srvMaxHosts-equal_to_srv_records.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/srvMaxHosts-greater_than_srv_records.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/srvMaxHosts-less_than_srv_records.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/srvMaxHosts-zero-txt.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/srvMaxHosts-zero.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/two-results-default-port.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/one-txt-record-multiple-strings.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/one-txt-record.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/srv-service-name.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/srvMaxHosts-equal_to_srv_records.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/srvMaxHosts-greater_than_srv_records.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/srvMaxHosts-less_than_srv_records.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/srvMaxHosts-zero-txt.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/srvMaxHosts-zero.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/two-results-default-port.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/two-results-nonstandard-port.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/txt-record-with-overridden-uri-option.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/uri-with-admin-database.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/uri-with-auth.json
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/replica_set/uri-with-uppercase-hostname
      
      
      # skipping due to environmental constraints: topology kind "replicaset" does not match any of the required kinds ["sharded"]
      - go.mongodb.org/mongo-driver/internal/integration/TestInitialDNSSeedlistDiscoverySpec/sharded
     
     
      # skipping due to environmental constraints no matching RunOnBlock; comparison errors [topology kind "replicaset" does not match any of the required kinds ["single"]]
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/change-streams/change-streams-errors.json/The_watch_helper_must_not_throw_a_custom_exception_when_executed_against_a_single_server_topology,_but_instead_depend_on_a_server_error
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/connection-monitoring-and-pooling/logging/connection-logging.json
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/connection-monitoring-and-pooling/logging/connection-pool-options.json
      
      
      # skipping due to environmental constraints no matching RunOnBlock; comparison errors [server version "7.0.4" is higher than max version "3.6.99", "4.0.99", "4.2.99", "4.4.99", "6.1.99"] 
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/change-streams/change-streams-resume-allowlist.json/change_stream_resumes_after_ExceededTimeLimit
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/change-streams/change-streams-resume-allowlist.json/change_stream_resumes_after_FailedToSatisfyReadPreference
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/change-streams/change-streams-resume-allowlist.json/change_stream_resumes_after_HostNotFound
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/change-streams/change-streams-resume-allowlist.json/change_stream_resumes_after_HostUnreachable
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/change-streams/change-streams-resume-allowlist.json/change_stream_resumes_after_InterruptedAtShutdown
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/change-streams/change-streams-resume-allowlist.json/change_stream_resumes_after_InterruptedDueToReplStateChange
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/change-streams/change-streams-resume-allowlist.json/change_stream_resumes_after_NetworkTimeout
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/change-streams/change-streams-resume-allowlist.json/change_stream_resumes_after_NotPrimaryNoSecondaryOk
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/change-streams/change-streams-resume-allowlist.json/change_stream_resumes_after_NotPrimaryOrSecondary
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/change-streams/change-streams-resume-allowlist.json/change_stream_resumes_after_NotWritablePrimary
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/change-streams/change-streams-resume-allowlist.json/change_stream_resumes_after_PrimarySteppedDown
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/change-streams/change-streams-resume-allowlist.json/change_stream_resumes_after_RetryChangeStream
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/change-streams/change-streams-resume-allowlist.json/change_stream_resumes_after_ShutdownInProgress
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/change-streams/change-streams-resume-allowlist.json/change_stream_resumes_after_SocketException
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/change-streams/change-streams-resume-allowlist.json/change_stream_resumes_after_StaleEpoch
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/change-streams/change-streams-resume-allowlist.json/change_stream_resumes_after_StaleShardVersion
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/change-streams/change-streams-resume-errorLabels.json/change_stream_resumes_after_StaleShardVersion
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/change-streams/change-streams-showExpandedEvents.json/when_showExpandedEvents_is_true,_shardCollection_events_are_reported
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/change-streams/change-streams.json/Test_that_comment_is_not_set_on_getMore_-_pre_4.4
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/change-streams/change-streams.json/Test_with_document_comment_-_pre_4.4
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/command-monitoring/find.json/A_successful_find_event_with_a_getmore_and_the_server_kills_the_cursor_(<=_4.4)
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/command-monitoring/logging/pre-42-server-connection-id.json
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/command-monitoring/logging/redacted-commands.json/copydb_command_and_resulting_server-generated_error_are_redacted
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/command-monitoring/logging/redacted-commands.json/copydbgetnonce_command_and_resulting_server-generated_error_are_redacted
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/command-monitoring/logging/redacted-commands.json/copydbsaslstart_command_and_resulting_server-generated_error_are_redacted
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/command-monitoring/logging/redacted-commands.json/getnonce_command_and_server_reply_are_redacted
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/command-monitoring/logging/redacted-commands.json/network_error_in_response_to_copydb_is_not_redacted
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/command-monitoring/logging/redacted-commands.json/network_error_in_response_to_copydbgetnonce_is_not_redacted
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/command-monitoring/logging/redacted-commands.json/network_error_in_response_to_copydbsaslstart_is_not_redacted
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/command-monitoring/logging/redacted-commands.json/network_error_in_response_to_getnonce_is_not_redacted
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/command-monitoring/pre-42-server-connection-id.json
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/command-monitoring/redacted-commands.json/copydb
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/command-monitoring/redacted-commands.json/copydbgetnonce
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/command-monitoring/redacted-commands.json/copydbsaslstart
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/command-monitoring/redacted-commands.json/getnonce
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/crud/unified/aggregate-let.json/Aggregate_to_collection_with_let_option_unsupported_(server-side_error)
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/crud/unified/aggregate-let.json/Aggregate_with_let_option_unsupported_(server-side_error)
      

      # skipping due to environmental constraints no matching RunOnBlock; comparison errors [runOnBlock requires CSFLE to be enabled. Build with the cse tag to enable]
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-encryption/unified/addKeyAltName.json
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-encryption/unified/createDataKey-kms_providers-invalid.json
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-encryption/unified/createDataKey.json
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-encryption/unified/createDataKey.json
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-encryption/unified/deleteKey.json
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-encryption/unified/getKey.json
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-encryption/unified/getKeyByAltName.json
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-encryption/unified/getKeys.json
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-encryption/unified/removeKeyAltName.json
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-encryption/unified/rewrapManyDataKey-decrypt_failure.json
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-encryption/unified/rewrapManyDataKey-encrypt_failure.json
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-encryption/unified/rewrapManyDataKey.json
      # execution failed test must be skipped "the \"count\" operation is not supported"
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-operations-timeout/global-timeoutMS.json/timeoutMS_can_be_configured_on_a_MongoClient_-_count_on_collection
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-operations-timeout/global-timeoutMS.json/timeoutMS_can_be_set_to_0_on_a_MongoClient_-_count_on_collection
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-operations-timeout/override-operation-timeoutMS.json/timeoutMS_can_be_configured_for_an_operation_-_count_on_collection
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-operations-timeout/override-operation-timeoutMS.json/timeoutMS_can_be_set_to_0_for_an_operation_-_count_on_collection
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-operations-timeout/retryability-legacy-timeouts.json/operation_fails_after_two_consecutive_socket_timeouts_-_count_on_collection
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-operations-timeout/retryability-legacy-timeouts.json/operation_succeeds_after_one_socket_timeout_-_count_on_collection
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-operations-timeout/retryability-timeoutMS.json/operation_is_retried_multiple_times_for_non-zero_timeoutMS_-_count_on_collection
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-operations-timeout/retryability-timeoutMS.json/operation_is_retried_multiple_times_if_timeoutMS_is_zero_-_count_on_collection
      - go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-operations-timeout/retryability-timeoutMS.json/timeoutMS_applies_to_whole_operation,_not_individual_attempts_-_count_on_collection



      # execution failed test must be skipped "timeoutMode not supported"
go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-operations-timeout/runCursorCommand.json/Non=tailable_cursor_iteration_timeoutMS_is_refreshed_for_getMore_if_timeoutMode_is_iteration_-_failure
go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-operations-timeout/runCursorCommand.json/Tailable_cursor_iteration_timeoutMS_is_refreshed_for_getMore_-_failure
go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-operations-timeout/runCursorCommand.json/error_if_timeoutMode_is_cursorLifetime_and_cursorType_is_tailableAwait
go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-operations-timeout/runCursorCommand.json/errors_if_timeoutMode_is_set_without_timeoutMS



      # execution failed test must be skipped "the \"modifyCollection\" operation is not supported"
go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/collection-management/modifyCollection-pre_and_post_images.json/modifyCollection_to_changeStreamPreAndPostImages_enabled


      # execution failed test must be skipped "cursorType not supported"
go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-operations-timeout/runCursorCommand.json/Tailable_cursor_awaitData_iteration_timeoutMS_is_refreshed_for_getMore_-_failure




      # execution failed test must be skipped "the \"listIndexNames\" operation is not supported"
go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-operations-timeout/global-timeoutMS.json/timeoutMS_can_be_configured_on_a_MongoClient_-_listIndexNames_on_collection
go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-operations-timeout/global-timeoutMS.json/timeoutMS_can_be_set_to_0_on_a_MongoClient_-_listIndexNames_on_collection
go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-operations-timeout/override-operation-timeoutMS.json/timeoutMS_can_be_configured_for_an_operation_-_listIndexNames_on_collection
go.mongodb.org/mongo-driver/internal/integration/unified/TestUnifiedSpec/client-side-operations-timeout/override-operation-timeoutMS.json/timeoutMS_can_be_set_to_0_for_an_operation_-_listIndexNames_on_collection

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    pass:
