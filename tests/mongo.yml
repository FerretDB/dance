---
runner: jstest
args:
  - mongo/jstests/core/all*.js
  - mongo/jstests/core/array[1-4].js
  - mongo/jstests/core/arrayfind[1-9].js
  - mongo/jstests/core/basic*.js
  - mongo/jstests/core/find_and_modify.js
  - mongo/jstests/core/find_and_modify[2-4].js
  - mongo/jstests/core/uniqueness.js
  - mongo/jstests/core/unset*.js
  - mongo/jstests/core/update[2-9].js

results:
  ferretdb:
    stats:
      expected_fail: 21
      expected_pass: 16
    fail:
      # https://docs.ferretdb.io/diff/
      # 3. FerretDB does not support nested arrays.
      - mongo/jstests/core/all.js
      - mongo/jstests/core/all2.js
      - mongo/jstests/core/all4.js
      - mongo/jstests/core/all5.js
      - mongo/jstests/core/array1.js
      - mongo/jstests/core/arrayfind1.js
      - mongo/jstests/core/arrayfind2.js
      - mongo/jstests/core/arrayfind4.js

      # https://github.com/FerretDB/FerretDB/issues/1724
      - mongo/jstests/core/arrayfind5.js

      # https://github.com/FerretDB/FerretDB/issues/161
      - mongo/jstests/core/basic1.js

      # https://github.com/FerretDB/FerretDB/issues/1710
      # https://github.com/FerretDB/FerretDB/issues/731
      - mongo/jstests/core/arrayfind3.js
      - mongo/jstests/core/arrayfind6.js
      - mongo/jstests/core/arrayfind7.js
      - mongo/jstests/core/arrayfind8.js
      - mongo/jstests/core/arrayfind9.js

      # https://github.com/FerretDB/FerretDB/issues/1727
      - mongo/jstests/core/find_and_modify.js
      - mongo/jstests/core/find_and_modify2.js
      - mongo/jstests/core/find_and_modify3.js
      - mongo/jstests/core/find_and_modify4.js

      # https://github.com/FerretDB/FerretDB/issues/1384
      - mongo/jstests/core/uniqueness.js

      # https://github.com/FerretDB/FerretDB/issues/1242
      - mongo/jstests/core/unset2.js

      # https://github.com/FerretDB/FerretDB/issues/503
      - mongo/jstests/core/update8.js

      # https://github.com/FerretDB/FerretDB/issues/503
      - mongo/jstests/core/update9.js

  mongodb:
    stats:
      expected_fail: 0
      expected_pass: 29
    fail:
