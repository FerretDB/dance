---
runner: service

args:
  - mongo/jstests/core/**/*.js

  # these files should be excluded because they have the exclude_files field
  - mongo/jstests/core/txns/!**/*.js
  # Excluding find_and_modify.js as it tests writability to the config collection, which is N/A for Atlas.
  - mongo/jstests/core/!find_and_modify.js
  # Excluding tests requiring admin privs, sharding, a local deployment, or other non-relevance to Atlas
  - mongo/jstests/core/!apitest_db.js
  - mongo/jstests/core/!apitest_dbcollection.js
  - mongo/jstests/core/!basic6.js
  - mongo/jstests/core/!batch_write_command_w0.js
  - mongo/jstests/core/!check_shard_index.js
  - mongo/jstests/core/!collmod_convert_to_ttl.js
  - mongo/jstests/core/!count2.js
  - mongo/jstests/core/!crud_api.js
  - mongo/jstests/core/!datasize2.js
  - mongo/jstests/core/!exhaust.js
  - mongo/jstests/core/!jssymbol.js
  - mongo/jstests/core/!match_numeric_components.js
  - mongo/jstests/core/!positional_projection.js
  - mongo/jstests/core/!rename_collection_capped.js
  # Tests excluded pre-5.1
  - mongo/jstests/core/!add_skip_stage_before_fetch.js
  - mongo/jstests/core/json_schema/!bsontype.js
  - mongo/jstests/core/!geoc.js
  - mongo/jstests/core/!hashed_index_queries.js
  - mongo/jstests/core/!index_arr2.js
  - mongo/jstests/core/!api_version_parameters.js
  - mongo/jstests/core/!api_version_test_expression.js
  - mongo/jstests/core/!commands_with_uuid.js
  - mongo/jstests/core/!comment_field.js
  - mongo/jstests/core/!crud_ops_do_not_throw_locktimeout.js
  - mongo/jstests/core/!currentop_cursors.js
  - mongo/jstests/core/!currentop_shell.js
  - mongo/jstests/core/!currentop_waiting_for_latch.js
  - mongo/jstests/core/!disallow_system_views_user_writes.js
  - mongo/jstests/core/!failcommand_failpoint.js
  - mongo/jstests/core/!fsync.js
  - mongo/jstests/core/!hash.js
  - mongo/jstests/core/!hidden_index.js
  - mongo/jstests/core/!index9.js
  - mongo/jstests/core/!index_id_options.js
  - mongo/jstests/core/!internal_rename_if_options_and_indexes_match.js
  - mongo/jstests/core/!latch_analyzer.js
  - mongo/jstests/core/!list_indexes.js
  - mongo/jstests/core/!profile_hide_index.js
  - mongo/jstests/core/!queryoptimizera.js
  - mongo/jstests/core/!read_after_optime.js
  - mongo/jstests/core/!roles_info.js
  - mongo/jstests/core/timeseries/!timeseries_index_stats.js
  - mongo/jstests/core/!validate_db_metadata_command.js
  - mongo/jstests/core/!version_api_list_commands_verification.js
  - mongo/jstests/core/!version_api_v1_command_coverage.js
  - mongo/jstests/core/views/!view_with_invalid_dbname.js
  - mongo/jstests/core/!wildcard_index_collation.js
  - mongo/jstests/core/!nestedobj1.js
  - mongo/jstests/core/!collation.js
  - mongo/jstests/core/!computed_projections.js
  - mongo/jstests/core/!expr_index_use.js
  - mongo/jstests/core/!idhack.js
  - mongo/jstests/core/!index_filter_commands.js
  - mongo/jstests/core/!indexj.js
  - mongo/jstests/core/!objid5.js
  - mongo/jstests/core/!plan_cache_sbe.js
  - mongo/jstests/core/!projection_dotted_paths.js
  - mongo/jstests/core/!projection_expr_mod.js
  - mongo/jstests/core/timeseries/!bucket_granularity.js
  - mongo/jstests/core/timeseries/!timeseries_delete_concurrent.js
  - mongo/jstests/core/timeseries/!timeseries_delete_hint.js
  - mongo/jstests/core/timeseries/!timeseries_update_concurrent.js
  - mongo/jstests/core/timeseries/!timeseries_update_hint.js
  - mongo/jstests/core/!wildcard_index_cached_plans.js
  - mongo/jstests/core/!explain_execution_error.js
  - mongo/jstests/core/!explain_find.js
  - mongo/jstests/core/!sortj.js
  # Post 6.0
  - mongo/jstests/core/!batched_multi_deletes.js
  - mongo/jstests/core/!clustered_collection_creation.js
  - mongo/jstests/core/!collection_uuid_drop.js
  - mongo/jstests/core/!collection_uuid_write_commands.js
  - mongo/jstests/core/!index_stats.js
  - mongo/jstests/core/!list_all_local_sessions.js
  - mongo/jstests/core/timeseries/!timeseries_lookup.js
  - mongo/jstests/core/!write_change_stream_pit_preimage.js
  - mongo/jstests/core/!operation_latency_histogram.js
  - mongo/jstests/core/!profile_findandmodify.js

results:
  ferretdb:
    stats:
      expected_fail: 0
      expected_pass: 0
    fail:
    ignore:
      # # TODO: these files have the exclude_with_any_tags so ignore them in args instead.
      # - jstests/core/administrative/apply_ops/apply_ops1.js
      # - jstests/auth/autocomplete_auth.js
      # - jstests/core/administrative/apply_ops/apply_ops1.js
      # - jstests/core/administrative/apply_ops/apply_ops_system_dot_views.js
      # - jstests/core/administrative/auth1.js
      # - jstests/core/administrative/automation_setparameter.js
      # - jstests/core/administrative/current_op/currentop.js
      # - jstests/core/administrative/profile/profile1.js
      # - jstests/core/administrative/profile/profile3.js
      # - jstests/core/administrative/set_param1.js
      # - jstests/core/catalog/list_collections_no_views.js
      # - jstests/core/connection_status.js
      # - jstests/core/dbhash2.js
      # # - assumes_superuser_permissions
      # # - requires_eval_command
      # # - requires_spawning_own_processes
      # # - uses_multiple_connections
      # # - uses_testing_only_commands
  mongodb:
    stats:
      expected_fail: 0
      expected_pass: 0
