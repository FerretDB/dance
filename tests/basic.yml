---
runner: jstest
dir: mongo

args:
  - mongo/jstests/core/write/update/updatej.js # passes on SQLite!
  - mongo/jstests/aggregation/ifnull.js
  - mongo/jstests/aggregation/agg_infinite_recursion.js
  - mongo/jstests/aggregation/aggregation_with_uuids.js
  - mongo/jstests/fail.js
  - mongo/jstests/fail2.js

results:
  includes:
    foo:
      - mongo/jstests/fail.js
    bar:
      - mongo/jstests/fail2.js

  sqlite:
    stats:
      expected_fail: 5
      expected_pass: 1
    fail:
      - mongo/jstests/aggregation/ifnull.js
      - mongo/jstests/aggregation/agg_infinite_recursion.js
      - mongo/jstests/aggregation/aggregation_with_uuids.js
    include_fail: ["foo", "bar"]

  ferretdb:
    stats:
      expected_fail: 4
      expected_pass: 0
  mongodb:
    stats:
      expected_fail: 0
      expected_pass: 0
